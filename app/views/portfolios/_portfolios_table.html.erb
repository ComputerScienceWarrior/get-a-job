<div class="container mx-auto p-8">
  <h2 class="text-4xl font-semibold mb-4">All Portfolios</h2>
  <table class="min-w-full table-auto">
    <thead>
      <tr>
        <% if is_logged_in? %>
          <th class="text-center text-white underline px-4 py-2">Title</th>
          <th class="text-center text-white underline px-4 py-2">Description</th>
          <th class="text-center text-white underline px-4 py-2">Actions</th>
        <% else %>
          <th class="text-center text-white underline px-4 py-2">User</th>
          <th class="text-center text-white underline px-4 py-2">Portfolio Title</th>     
          <th class="text-center text-white underline px-4 py-2">Description</th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% @portfolios.each do |portfolio| %>
        <% if is_logged_in? %>
          <td class="text-center border px-4 py-2"><%= portfolio.title %></td>
          <td class="text-center border px-4 py-2"><%= content_tag(:div, portfolio.description, class: 'text-white') %></td>
          <td class="text-center border px-4 py-2">
            <%= form_for portfolio, url: user_portfolio_path(portfolio.user, portfolio), method: :delete, data: { confirm: 'Are you sure you want to delete this portfolio?' } do |f| %>
              <%= f.submit 'Delete', class: 'text-red-500 underline' %>
            <% end %>
            <%= link_to 'New Project', new_portfolio_project_path(portfolio), class: 'text-green-500' %> 
          </td>
        <% else %>
          <td class="text-center border px-4 py-2"><%= portfolio.user.username %></td>
          <td class="text-center border px-4 py-2"><%= portfolio.description %></td>
          <td class="text-center border px-4 py-2"><%= link_to portfolio.title, user_portfolio_path(portfolio.user, portfolio), class: 'text-green-500 underline' %></td>
        <% end %>
        <tr>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
